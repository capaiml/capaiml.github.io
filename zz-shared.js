window.shared = class t{static d$(e){return document.querySelector(e)}static d$$(e){return[...document.querySelectorAll(e)]}static show_all(e){delete localStorage.Toggle_State,delete localStorage.toc_scrolltop,window.location.reload()}static toggle_descendants(e){e.preventDefault();var _=e.target.parentElement,t=parseInt(_.getAttribute("depth"));if(null!=_.nextElementSibling){for(var a=[],o=_;null!=o.nextElementSibling;)a.push(o.nextElementSibling),o=o.nextElementSibling;var n=[];for(let e of a){if(parseInt(e.getAttribute("depth"))<=t)break;n.push(e)}if(0!=n.length){var i=n[0].style.display.trim();if(0==i.length||"block"==i)var r="none";else r="block";for(let e of n)"none"!=r&&parseInt(e.getAttribute("depth"))!=t+1?e.style.display="none":e.style.display=r;var s=d$$(".toc-item"),l={};for(let e=0;e<s.length;e++){let _=s[e],t="item"+e;l[t]=_.style.display,0==l[t].trim().length&&(l[t]="block")}localStorage.Toggle_State=JSON.stringify(l)}}}static show_search_results(e){window.d$=t.d$,window.d$$=t.d$$;var _=d$("body >div:nth-child(3)");if(null==d$("div[type='search-results']"))(a=document.createElement("div")).setAttribute("type","search-results"),_.parentElement.insertBefore(a,_);else var a=d$("div[type='search-results']");if(null!=e){var o="<div><big><b>Notes found</b></big>:</div>";for(let _ of e)o+=`<div><a href="${_}" target="_self">${n(_)}</a></div>`;a.innerHTML=o}else a.innerHTML="<big><b>No notes found!</b></big>";function n(e){return e.substring(0,e.length-12)}}static search(e){if(("Enter"==e.code||"NumpadEnter"==e.code)&&0!=(_=e.target.value.trim()).length){var _,a=(_=_.toLowerCase().replace(/[\s]{2,}/g," ")).split(" ");if(0!=a.length){var o=window.Files,n=window.Terms;for(let e of a)if(null==n[e])return void t.show_search_results(null);var i=new Set;for(let e of a)for(let _ of n[e])i.add(_);var r=[];for(let e of[...i])r.push(o[e]);r.sort(),t.show_search_results(r)}}}static load_toggle_state(){if(null!=localStorage.Toggle_State&&0!=localStorage.Toggle_State.trim().length){var e=JSON.parse(localStorage.Toggle_State),_=d$$(".toc-item");for(let t=0;t<_.length;t++)_[t].style.display=e["item"+t];if(null!=localStorage.toc_scrolltop){var t=parseInt(localStorage.toc_scrolltop);d$("#Toc").scrollTo(0,t)}}}static init(){window.log=console.log,window.d$=t.d$,window.d$$=t.d$$,t.load_toggle_state(),d$("#Toc").addEventListener("wheel",(()=>{localStorage.toc_scrolltop=d$("#Toc").scrollTop}))}};
window.addEventListener("load",()=>{ shared.init(); });